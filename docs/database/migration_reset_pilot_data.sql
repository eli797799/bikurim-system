-- =============================================================================
-- איפוס נתוני ניסיון – הכנה לפיילוט
-- Reset trial data before production pilot
-- =============================================================================
-- מחק רק נתונים. לא נוגע במבנה הטבלאות, בקטגוריות או בהגדרות הסטטוס.
-- =============================================================================

BEGIN;

-- 1. מחיקת נתונים (CASCADE מטפל בתלויים)
TRUNCATE TABLE
  price_history,
  shopping_list_items,
  supplier_products,
  shopping_lists,
  products,
  suppliers
RESTART IDENTITY CASCADE;

-- 2. איפוס המונה של order_number – הפקודה הבאה תהיה 1000
ALTER SEQUENCE shopping_list_order_number_seq RESTART WITH 1000;

COMMIT;

-- =============================================================================
-- נשמר: users, categories (קטגוריות: ירקות, פירות, יבש...)
-- =============================================================================
